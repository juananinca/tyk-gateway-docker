docker compose up -d
curl localhost:8080/hello

// Comprobamos las APIs actuales
curl localhost:8080/tyk/apis -H 'x-tyk-authorization: foo' | jq > apis.json

// Importamos la nueva API
curl -X POST localhost:8080/tyk/apis/oas/import -d @animal-api.json -H 'x-tyk-authorization: foo' -H 'content-type: text/plain'
// O importamos dos indicando el listenPath diferente para cada caso:
curl -X POST localhost:8080/tyk/apis/oas/import?listenPath=/animal -d @animal-api.json -H 'x-tyk-authorization: foo' -H 'content-type: text/plain' 
curl -X POST localhost:8080/tyk/apis/oas/import?listenPath=/vehicle -d @vehicle-api.json -H 'x-tyk-authorization: foo' -H 'content-type: text/plain' 


// Recargamos los grupos de APIs
curl localhost:8080/tyk/reload/group -H 'x-tyk-authorization: foo'

// Comprobamos que la nueva API está cargada (tarda un poco)
curl localhost:8080/tyk/apis -H 'x-tyk-authorization: foo' | jq > apis.json

// Lanzamos la petición a la nueva API
curl localhost:8080/greetings
// O en el caso de dos APIs:
curl localhost:8080/animal/greetings
curl localhost:8080/vehicle/greetings


// Otros comandos útiles

// Merge de configuración de rate limiting en la API
jq -s '.[0] * .[1]' tyk_apis/animal-api.json ratelimit.json > merged.json

// Actualizar una API existente
curl -X PUT localhost:8080/tyk/apis/oas/API_ID -d @merged.json -H 'x-tyk-authorization: foo' -H 'content-type: text/plain'


// Crear una nueva key
curl localhost:8080/tyk/keys/create -d @key.json -H 'x-tyk-authorization: foo'